<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试微信网页授权</title>
</head>
<body>
<h1>授权成功！</h1>
</body>
<script src="public/scripts/jquery-1.12.1.min.js"></script>
<script src="public/scripts/utils/httpUtil.js"></script>
<script>
    var Http;
    window.onload = function(){
       var code = request('code');
        Http = new Http();
        Http.ajaxRequest({url:'wx/userInfo/'+code,'success':function(json){
        }});
    }

    function request(paras){
        var url = location.search;
        var paraString = url.substring(url.indexOf("?")+1,url.length).split("&");
        var paraObj = {};
        for (i=0; j=paraString[i]; i++){
            paraObj[j.substring(0,j.indexOf("=")).toLowerCase()] = j.substring(j.indexOf("=")+1,j.length);
        }
        var returnValue = paraObj[paras.toLowerCase()];
        if(typeof(returnValue)=="undefined"){
            return "";
        }else{
            return returnValue;
        }
    }
</script>
</html>